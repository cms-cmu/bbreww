# template:
# - model: path to model
# - FvT: path to friend tree

main:
  module: evaluate
  option:
    - --max-evaluators 3 # use 3 workers to evaluate

dataset:
  - module: bbWW.dvtt.Eval
    option:
      - --metadata bbreww/metadata/classifier/datasets_data_v4
      - --max-workers 8 # use 8 workers to fetch metadatas for ROOT files
      - --data-source detector
      - --friends "" bbreww/metadata/classifier/data_friend.json@@classifier_input

model:
  - module: bbWW.base.baseline.Eval
    option:
      - --models
      - Final # choose name of the model to evaluate, for now only Final is available
      - "{model}/result.json" # setup the path to the training result

analysis:
  - module: kfold.Merge # merge different k-folds
    option:
      - --name dvtt # set the name of friend tree
      - --step 100000 # set the step to read ROOT files
      - --workers 5
      - --clean # remove the original files

setting:
  - module: IO
    option:
      - output: "{dvtt}"
  - module: ml.DataLoader
    option:
      - num_workers: 8
